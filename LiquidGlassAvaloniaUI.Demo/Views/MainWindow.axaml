<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:LiquidGlassAvaloniaUI"
        xmlns:vm="using:AvaloniaApplication1.ViewModels"
        x:Class="AvaloniaApplication1.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="LiquidGlassAvaloniaUI Demo"
        Width="1200"
        Height="800"
        Background="#FF0B0C10">

    <Grid>
        <Image Source="avares://LiquidGlassAvaloniaUI.Demo/Assets/background.jpg"
               Stretch="UniformToFill"
               Opacity="0.95" />
        <Rectangle Fill="#66000000" />

        <Grid Margin="24"
              ColumnDefinitions="*,360"
              RowDefinitions="Auto,*"
              ColumnSpacing="20"
              RowSpacing="16">

            <StackPanel Grid.ColumnSpan="2" Spacing="4">
                <TextBlock Text="LiquidGlassAvaloniaUI"
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="White" />
                <TextBlock Text="AndroidLiquidGlass pipeline: vibrancy → blur → lens → highlight"
                           FontSize="12"
                           Foreground="#CCFFFFFF" />
            </StackPanel>

            <!-- Preview -->
            <ScrollViewer Grid.Row="1"
                          Grid.Column="0"
                          HorizontalScrollBarVisibility="Disabled"
                          VerticalScrollBarVisibility="Auto">
                <StackPanel HorizontalAlignment="Center"
                            Spacing="20"
                            Margin="0,12,0,24">

                    <local:LiquidGlassSurface Width="520"
                                              Height="340"
                                              CornerRadius="36"
                                              RefractionHeight="{Binding RefractionHeight}"
                                              RefractionAmount="{Binding RefractionAmount}"
                                              DepthEffect="{Binding DepthEffect}"
                                              ChromaticAberration="{Binding ChromaticAberration}"
                                              BlurRadius="{Binding BlurRadius}"
                                              Vibrancy="{Binding Vibrancy}"
                                              TintColor="{Binding TintColor}"
                                              SurfaceColor="{Binding SurfaceColor}"
                                              HighlightEnabled="{Binding HighlightEnabled}"
                                              HighlightOpacity="{Binding HighlightOpacity}">
                        <Grid Margin="22"
                              RowDefinitions="Auto,Auto,*,Auto"
                              ColumnDefinitions="*,Auto"
                              RowSpacing="10">
                            <TextBlock Text="Liquid Glass Surface"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       Foreground="White" />

                            <Border Grid.Row="0"
                                    Grid.Column="1"
                                    CornerRadius="999"
                                    Background="#30FFFFFF"
                                    Padding="10,6">
                                <TextBlock Text="Live"
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           Foreground="White" />
                            </Border>

                            <TextBlock Grid.Row="1"
                                       Grid.ColumnSpan="2"
                                       Text="Tune parameters on the right to match AndroidLiquidGlass."
                                       FontSize="12"
                                       Foreground="#CCFFFFFF" />

                            <StackPanel Grid.Row="2"
                                        Grid.ColumnSpan="2"
                                        Spacing="12">
                                <Border Height="52"
                                        CornerRadius="16"
                                        Background="#22FFFFFF">
                                    <Grid ColumnDefinitions="Auto,*"
                                          Margin="14,10">
                                        <Border Width="28"
                                                Height="28"
                                                CornerRadius="8"
                                                Background="#30FFFFFF" />
                                        <StackPanel Grid.Column="1" Spacing="4" Margin="12,0,0,0">
                                            <TextBlock Text="Preview content"
                                                       FontSize="13"
                                                       FontWeight="SemiBold"
                                                       Foreground="White" />
                                            <TextBlock Text="Backdrop should refract near edges and stay crisp inside."
                                                       FontSize="11"
                                                       Foreground="#B3FFFFFF" />
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <Border Height="52"
                                        CornerRadius="16"
                                        Background="#18FFFFFF">
                                    <Grid ColumnDefinitions="Auto,*"
                                          Margin="14,10">
                                        <Border Width="28"
                                                Height="28"
                                                CornerRadius="8"
                                                Background="#2AFFFFFF" />
                                        <StackPanel Grid.Column="1" Spacing="4" Margin="12,0,0,0">
                                            <TextBlock Text="Tint + surface overlays"
                                                       FontSize="13"
                                                       FontWeight="SemiBold"
                                                       Foreground="White" />
                                            <TextBlock Text="Hue blend + alpha fill (tint), plus optional surface color."
                                                       FontSize="11"
                                                       Foreground="#B3FFFFFF" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </StackPanel>

                            <StackPanel Grid.Row="3"
                                        Grid.ColumnSpan="2"
                                        Orientation="Horizontal"
                                        Spacing="10"
                                        HorizontalAlignment="Center">
                                <local:LiquidGlassInteractiveSurface Width="160"
                                                                     Height="48"
                                                                     CornerRadius="999"
                                                                     RefractionHeight="{Binding RefractionHeight}"
                                                                     RefractionAmount="{Binding RefractionAmount}"
                                                                     DepthEffect="{Binding DepthEffect}"
                                                                     ChromaticAberration="{Binding ChromaticAberration}"
                                                                     BlurRadius="{Binding BlurRadius}"
                                                                     Vibrancy="{Binding Vibrancy}"
                                                                     TintColor="{Binding TintColor}"
                                                                     SurfaceColor="{Binding SurfaceColor}"
                                                                     HighlightEnabled="{Binding HighlightEnabled}"
                                                                     HighlightOpacity="{Binding HighlightOpacity}">
                                    <Button Background="Transparent"
                                            BorderThickness="0"
                                            Padding="0"
                                            HorizontalContentAlignment="Center"
                                            VerticalContentAlignment="Center"
                                            Click="OnPrimaryLiquidButtonClick">
                                        <TextBlock Text="Liquid Button"
                                                   FontSize="13"
                                                   FontWeight="SemiBold"
                                                   Foreground="White" />
                                    </Button>
                                </local:LiquidGlassInteractiveSurface>

                                <local:LiquidGlassInteractiveSurface Width="160"
                                                                     Height="48"
                                                                     CornerRadius="999"
                                                                     RefractionHeight="{Binding RefractionHeight}"
                                                                     RefractionAmount="{Binding RefractionAmount}"
                                                                     DepthEffect="{Binding DepthEffect}"
                                                                     ChromaticAberration="{Binding ChromaticAberration}"
                                                                     BlurRadius="{Binding BlurRadius}"
                                                                     Vibrancy="{Binding Vibrancy}"
                                                                     TintColor="{Binding TintColor}"
                                                                     SurfaceColor="{Binding SurfaceColor}"
                                                                     HighlightEnabled="{Binding HighlightEnabled}"
                                                                     HighlightOpacity="{Binding HighlightOpacity}">
                                    <Button Background="Transparent"
                                            BorderThickness="0"
                                            Padding="0"
                                            HorizontalContentAlignment="Center"
                                            VerticalContentAlignment="Center"
                                            Click="OnSecondaryLiquidButtonClick">
                                        <TextBlock Text="Secondary"
                                                   FontSize="13"
                                                   FontWeight="SemiBold"
                                                   Foreground="White" />
                                    </Button>
                                </local:LiquidGlassInteractiveSurface>
                            </StackPanel>
                        </Grid>
                    </local:LiquidGlassSurface>

                    <Border Background="#1AFFFFFF"
                            CornerRadius="14"
                            Padding="14">
                        <StackPanel Spacing="6">
                            <TextBlock Text="Android Defaults"
                                       FontSize="13"
                                       FontWeight="SemiBold"
                                       Foreground="White" />
                            <TextBlock Text="Vibrancy=1.5, Blur=2, RefractionHeight=12, RefractionAmount=24, Highlight=0.5 @ 45°"
                                       FontSize="11"
                                       Foreground="#B3FFFFFF"
                                       TextWrapping="Wrap" />
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- Controls -->
            <Border Grid.Row="1"
                    Grid.Column="1"
                    Background="#42000000"
                    CornerRadius="18"
                    Padding="16">
                <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                              VerticalScrollBarVisibility="Auto">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Controls"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="White" />

                        <Grid ColumnDefinitions="150,*,70"
                              RowDefinitions="Auto,Auto,Auto,Auto"
                              RowSpacing="10"
                              ColumnSpacing="10">
                            <TextBlock Grid.Row="0"
                                       Grid.Column="0"
                                       Text="RefractionHeight"
                                       Foreground="White"
                                       VerticalAlignment="Center" />
                            <Slider Grid.Row="0"
                                    Grid.Column="1"
                                    Minimum="0"
                                    Maximum="30"
                                    Value="{Binding RefractionHeight}" />
                            <TextBlock Grid.Row="0"
                                       Grid.Column="2"
                                       Text="{Binding RefractionHeight, StringFormat='{}{0:F1}'}"
                                       Foreground="White"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right" />

                            <TextBlock Grid.Row="1"
                                       Grid.Column="0"
                                       Text="RefractionAmount"
                                       Foreground="White"
                                       VerticalAlignment="Center" />
                            <Slider Grid.Row="1"
                                    Grid.Column="1"
                                    Minimum="0"
                                    Maximum="60"
                                    Value="{Binding RefractionAmount}" />
                            <TextBlock Grid.Row="1"
                                       Grid.Column="2"
                                       Text="{Binding RefractionAmount, StringFormat='{}{0:F0}'}"
                                       Foreground="White"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right" />

                            <TextBlock Grid.Row="2"
                                       Grid.Column="0"
                                       Text="Blur"
                                       Foreground="White"
                                       VerticalAlignment="Center" />
                            <Slider Grid.Row="2"
                                    Grid.Column="1"
                                    Minimum="0"
                                    Maximum="12"
                                    Value="{Binding BlurRadius}" />
                            <TextBlock Grid.Row="2"
                                       Grid.Column="2"
                                       Text="{Binding BlurRadius, StringFormat='{}{0:F1}'}"
                                       Foreground="White"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right" />

                            <TextBlock Grid.Row="3"
                                       Grid.Column="0"
                                       Text="Vibrancy"
                                       Foreground="White"
                                       VerticalAlignment="Center" />
                            <Slider Grid.Row="3"
                                    Grid.Column="1"
                                    Minimum="0"
                                    Maximum="2.5"
                                    Value="{Binding Vibrancy}" />
                            <TextBlock Grid.Row="3"
                                       Grid.Column="2"
                                       Text="{Binding Vibrancy, StringFormat='{}{0:F2}'}"
                                       Foreground="White"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right" />
                        </Grid>

                        <StackPanel Spacing="8">
                            <CheckBox Content="DepthEffect"
                                      IsChecked="{Binding DepthEffect}"
                                      Foreground="White" />
                            <CheckBox Content="ChromaticAberration"
                                      IsChecked="{Binding ChromaticAberration}"
                                      Foreground="White" />
                        </StackPanel>

                        <Border Background="#26FFFFFF"
                                CornerRadius="12"
                                Padding="12">
                            <StackPanel Spacing="10">
                                <TextBlock Text="Highlight"
                                           FontSize="13"
                                           FontWeight="SemiBold"
                                           Foreground="White" />

                                <CheckBox Content="Enabled"
                                          IsChecked="{Binding HighlightEnabled}"
                                          Foreground="White" />

                                <Grid ColumnDefinitions="120,*,70"
                                      RowDefinitions="Auto"
                                      ColumnSpacing="10">
                                    <TextBlock Grid.Column="0"
                                               Text="Opacity"
                                               Foreground="White"
                                               VerticalAlignment="Center" />
                                    <Slider Grid.Column="1"
                                            Minimum="0"
                                            Maximum="1"
                                            Value="{Binding HighlightOpacity}" />
                                    <TextBlock Grid.Column="2"
                                               Text="{Binding HighlightOpacity, StringFormat='{}{0:F2}'}"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right" />
                                </Grid>
                            </StackPanel>
                        </Border>

                        <Border Background="#26FFFFFF"
                                CornerRadius="12"
                                Padding="12">
                            <StackPanel Spacing="10">
                                <TextBlock Text="Tint"
                                           FontSize="13"
                                           FontWeight="SemiBold"
                                           Foreground="White" />

                                <CheckBox Content="Enabled"
                                          IsChecked="{Binding EnableTint}"
                                          Foreground="White" />

                                <ComboBox SelectedIndex="{Binding TintPresetIndex}"
                                          IsEnabled="{Binding EnableTint}">
                                    <ComboBoxItem Content="Blue" />
                                    <ComboBoxItem Content="Pink" />
                                    <ComboBoxItem Content="Teal" />
                                    <ComboBoxItem Content="Amber" />
                                </ComboBox>
                            </StackPanel>
                        </Border>

                        <Border Background="#26FFFFFF"
                                CornerRadius="12"
                                Padding="12">
                            <StackPanel Spacing="10">
                                <TextBlock Text="Surface"
                                           FontSize="13"
                                           FontWeight="SemiBold"
                                           Foreground="White" />

                                <CheckBox Content="Enabled"
                                          IsChecked="{Binding EnableSurface}"
                                          Foreground="White" />

                                <ComboBox SelectedIndex="{Binding SurfacePresetIndex}"
                                          IsEnabled="{Binding EnableSurface}">
                                    <ComboBoxItem Content="Light" />
                                    <ComboBoxItem Content="Dark" />
                                </ComboBox>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
